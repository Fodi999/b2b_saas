# üîç –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –ß–¢–û BACKEND –ü–û–î–ö–õ–Æ–ß–Å–ù

## ‚úÖ –ß–¢–û –î–û–ë–ê–í–õ–ï–ù–û:

### 1. **–ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤–æ –≤—Å–µ—Ö —Ç–æ—á–∫–∞—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

#### üìç `lib/api/client.ts` - API Client
```
üåê [BACKEND REQUEST]  - –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∫ backend
üì¶ [BACKEND RESPONSE] - –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –æ—Ç backend
‚úÖ [BACKEND SUCCESS]  - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
‚ùå [BACKEND ERROR]    - –û—à–∏–±–∫–∞ –æ—Ç backend
```

#### üìç `lib/api/auth.ts` - Auth Actions
```
üîê [AUTH] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ BACKEND
üîê [AUTH] –õ–æ–≥–∏–Ω —á–µ—Ä–µ–∑ BACKEND
üîÑ [AUTH] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ BACKEND
üë§ [AUTH] –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å BACKEND
```

#### üìç `app/[locale]/login/page.tsx` - Login Page
```
üöÄ [LOGIN] –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ª–æ–≥–∏–Ω–∞ —á–µ—Ä–µ–∑ BACKEND
1Ô∏è‚É£ [LOGIN] –í—ã–∑–æ–≤ loginUser()...
‚úÖ [LOGIN] –¢–æ–∫–µ–Ω—ã –ø–æ–ª—É—á–µ–Ω—ã —Å BACKEND
2Ô∏è‚É£ [LOGIN] –í—ã–∑–æ–≤ fetchMe()...
‚úÖ [LOGIN] –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–µ–Ω—ã —Å BACKEND
3Ô∏è‚É£ [LOGIN] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –≤ Zustand store...
4Ô∏è‚É£ [LOGIN] –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard...
```

#### üìç `app/[locale]/register/page.tsx` - Register Page
```
üöÄ [REGISTER] –ù–∞—á–∞–ª–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ BACKEND
1Ô∏è‚É£ [REGISTER] –í—ã–∑–æ–≤ registerUser()...
‚úÖ [REGISTER] –¢–æ–∫–µ–Ω—ã –ø–æ–ª—É—á–µ–Ω—ã —Å BACKEND
2Ô∏è‚É£ [REGISTER] –í—ã–∑–æ–≤ fetchMe()...
‚úÖ [REGISTER] –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–µ–Ω—ã —Å BACKEND
3Ô∏è‚É£ [REGISTER] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –≤ Zustand store...
4Ô∏è‚É£ [REGISTER] –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard...
```

#### üìç `lib/hooks/use-auth-init.ts` - Session Restore
```
‚úÖ [AUTH_INIT] Access token —É–∂–µ –µ—Å—Ç—å
‚ÑπÔ∏è [AUTH_INIT] Refresh token –Ω–µ –Ω–∞–π–¥–µ–Ω
üîÑ [AUTH_INIT] –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ BACKEND...
‚úÖ [AUTH_INIT] Access token –æ–±–Ω–æ–≤–ª—ë–Ω —Å BACKEND
‚úÖ [AUTH_INIT] –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–µ–Ω—ã —Å BACKEND
‚úÖ [AUTH_INIT] –°–µ—Å—Å–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞!
‚ùå [AUTH_INIT] –ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Å—Å–∏—é
```

#### üìç `lib/stores/auth-store.ts` - Zustand Store
```
üíæ [STORE] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
üö™ [STORE] –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
```

---

## üß™ –ö–ê–ö –¢–ï–°–¢–ò–†–û–í–ê–¢–¨:

### **–®–∞–≥ 1: –û—Ç–∫—Ä–æ–π DevTools Console**
```
Chrome: F12 ‚Üí Console
Safari: Cmd+Option+C
Firefox: F12 ‚Üí Console
```

### **–®–∞–≥ 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
1. –û—Ç–∫—Ä–æ–π: http://localhost:3000/ru/register
2. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É
3. –ù–∞–∂–º–∏ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
üöÄ [REGISTER] –ù–∞—á–∞–ª–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ BACKEND
üîê [AUTH] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ BACKEND: { email, restaurant_name, backend: "https://..." }
üåê [BACKEND REQUEST] { method: "POST", url: ".../api/auth/register", hasAuth: false }
üì¶ [BACKEND RESPONSE] { url: "...", status: 200, ok: true }
‚úÖ [BACKEND SUCCESS] { url: "...", dataKeys: ["access_token", "refresh_token", ...] }
‚úÖ [REGISTER] –¢–æ–∫–µ–Ω—ã –ø–æ–ª—É—á–µ–Ω—ã —Å BACKEND: { user_id, tenant_id, has_access_token: true, ... }
üë§ [AUTH] –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å BACKEND
üåê [BACKEND REQUEST] { method: "GET", url: ".../api/me", hasAuth: true }
üì¶ [BACKEND RESPONSE] { url: "...", status: 200, ok: true }
‚úÖ [BACKEND SUCCESS] { url: "...", dataKeys: ["user", "tenant"] }
‚úÖ [REGISTER] –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–µ–Ω—ã —Å BACKEND: { user: {...}, tenant: {...} }
üíæ [STORE] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏: { user_id, user_email, tenant_id, tenant_name }
‚úÖ [REGISTER] –°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!
```

### **–®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**
1. –ù–∞–∂–º–∏ F5 –Ω–∞ dashboard
2. –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
üîÑ [AUTH_INIT] –ù–∞–π–¥–µ–Ω refresh token, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ BACKEND...
üîÑ [AUTH] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ BACKEND
üåê [BACKEND REQUEST] { method: "POST", url: ".../api/auth/refresh" }
üì¶ [BACKEND RESPONSE] { status: 200, ok: true }
‚úÖ [BACKEND SUCCESS] { dataKeys: ["access_token"] }
‚úÖ [AUTH_INIT] Access token –æ–±–Ω–æ–≤–ª—ë–Ω —Å BACKEND
üë§ [AUTH] –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å BACKEND
üåê [BACKEND REQUEST] { method: "GET", url: ".../api/me", hasAuth: true }
‚úÖ [AUTH_INIT] –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–µ–Ω—ã —Å BACKEND
üíæ [STORE] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
‚úÖ [AUTH_INIT] –°–µ—Å—Å–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞!
```

### **–®–∞–≥ 4: –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä**
–ù–∞ dashboard –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∑–µ–ª—ë–Ω—ã–π –±–∞–Ω–Ω–µ—Ä**:
```
üü¢ ‚úÖ –ü–û–î–ö–õ–Æ–ß–ï–ù–û –ö BACKEND
Backend: https://ministerial-yetta-fodi999-c58d8823.koyeb.app
–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
```

---

## üìä –ß–¢–û –î–û–ö–ê–ó–´–í–ê–ï–¢ –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö BACKEND:

‚úÖ **URL –≤ –ª–æ–≥–∞—Ö:** `https://ministerial-yetta-fodi999-c58d8823.koyeb.app`  
‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ user_id –∏ tenant_id** (UUID –æ—Ç backend)  
‚úÖ **JWT —Ç–æ–∫–µ–Ω—ã** (–¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `eyJ...`)  
‚úÖ **HTTP —Å—Ç–∞—Ç—É—Å—ã** (200, 401, 404) –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞  
‚úÖ **–î–∞–Ω–Ω—ã–µ tenant** (restaurant_name —Å–æ–∑–¥–∞–Ω –Ω–∞ backend)  
‚úÖ **Refresh token —Ä–∞–±–æ—Ç–∞–µ—Ç** (—Å–µ—Å—Å–∏—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)  

---

## üéØ –í–ê–ñ–ù–û:

–ï—Å–ª–∏ –ù–ï –≤–∏–¥–∏—à—å —ç—Ç–∏ –ª–æ–≥–∏ ‚Üí –∑–Ω–∞—á–∏—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è mock-–¥–∞–Ω–Ω—ã–µ (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è).

–° –ª–æ–≥–∞–º–∏ ‚Üí **100% –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ —á—Ç–æ frontend —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º backend!**
